<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo Espiral Social - Jogador</title>
    <link rel="stylesheet" href="styles.css">
    <script src="/socket.io/socket.io.js"></script>
</head>

<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <span class="symbol">‚â†</span><span class="text">gual</span>
            </div>
        </div>

        <div class="content">
            <!-- Formul√°rio de Entrada no Jogo -->
            <div id="joinForm">
                <div class="form-group">
                    <label for="playerName">Seu Nome</label>
                    <input type="text" id="playerName" placeholder="Digite seu nome" maxlength="20">
                </div>

                <div class="form-group">
                    <label for="roomCode">C√≥digo da Sala</label>
                    <input type="text" id="roomCode" placeholder="Digite o c√≥digo da sala" maxlength="6"
                        style="text-transform: uppercase;">
                </div>

                <div class="form-group">
                    <label>Escolha a identidade com a qual voc√™ mais se identifica:</label>
                    <div id="pawnSelector" class="pawn-selector">
                        <!-- Pe√µes ser√£o preenchidos pelo JavaScript -->
                    </div>
                </div>

                <button id="joinBtn" class="button" disabled>Entrar no Jogo</button>
            </div>

            <!-- Mensagens de Status -->
            <div id="statusMessage" style="display: none;"></div>

            <!-- Sala de Espera -->
            <div id="waitingRoom" style="display: none;">
                <div class="waiting-room">
                    <h3>Entrada Bem-sucedida!</h3>
                    <div class="loading-spinner"></div>
                    <p>Aguardando o professor iniciar o jogo...</p>
                </div>

                <div class="game-status">
                    <div class="player-info">
                        <div id="playerPawn" class="player-pawn"></div>
                        <div>
                            <div class="player-name" id="playerDisplayName">Jogador</div>
                            <div class="position-display">Anel: <span id="playerPosition">21</span></div>
                        </div>
                    </div>
                </div>

                <div class="other-players">
                    <h4>Outros Jogadores (<span id="otherPlayerCount">0</span>)</h4>
                    <div id="otherPlayersList" class="players-list"></div>
                </div>
            </div>

            <!-- Jogo Ativo -->
            <div id="gameActive" style="display: none;">
                <div class="game-info">
                    <div id="difficultyBadge" class="difficulty-badge difficulty-basic">N√≠vel B√°sico</div>
                    <h4>Instru√ß√µes do Jogo</h4>
                    <p>Quando uma carta for sorteada pelo anfitri√£o, decida se quer avan√ßar ou recuar com base na sua
                        experi√™ncia com a situa√ß√£o descrita.</p>
                </div>

                <div class="game-status">
                    <div class="player-info">
                        <div id="gamePlayerPawn" class="player-pawn"></div>
                        <div>
                            <div class="player-name" id="gamePlayerName">Jogador</div>
                            <div class="position-display">Anel: <span id="gamePlayerPosition">21</span></div>
                        </div>
                    </div>
                </div>

                <!-- Informa√ß√£o do Turno -->
                <div id="turnIndicator" class="turn-indicator turn-waiting">
                    Aguardando o anfitri√£o sortear uma carta...
                </div>

                <div id="currentTurnInfo" class="current-turn-info" style="display: none;">
                    Turno atual: <span id="currentPlayerName"></span>
                </div>

                <!-- Aguardando Carta -->
                <div id="waitingForCard" style="display: block;">
                    <div
                        style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 8px; margin: 20px 0;">
                        <div style="font-size: 24px; margin-bottom: 10px;">‚è≥</div>
                        <div style="font-size: 18px; color: #666;">Aguardando o anfitri√£o sortear uma carta...</div>
                    </div>
                </div>

                <!-- Se√ß√£o de Vota√ß√£o - APENAS Op√ß√µes Avan√ßar/Recuar -->
                <div id="votingSection" style="display: none;">
                    <div
                        style="text-align: center; padding: 20px; background: #e3f2fd; border-radius: 8px; margin: 20px 0;">
                        <div style="font-size: 18px; margin-bottom: 15px; font-weight: bold;">Uma carta foi sorteada!
                        </div>
                        <div style="font-size: 14px; color: #666; margin-bottom: 20px;">
                            O anfitri√£o sorteou uma carta. Com base na sua identidade e experi√™ncias, escolha sua
                            resposta:
                        </div>

                        <div class="movement-buttons" style="display: flex; gap: 15px; justify-content: center;">
                            <button id="moveForwardBtn" class="button move-forward"
                                style="flex: 1; max-width: 200px; padding: 15px;">
                                ‚¨ÜÔ∏è Avan√ßar
                            </button>

                            <button id="moveBackwardBtn" class="button move-backward"
                                style="flex: 1; max-width: 200px; padding: 15px;">
                                ‚¨áÔ∏è Recuar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Voto Confirmado -->
                <div id="voteConfirmed" style="display: none;">
                    <div
                        style="text-align: center; padding: 20px; background: #e8f5e8; border-radius: 8px; margin: 20px 0;">
                        <div style="font-size: 24px; margin-bottom: 10px;">‚úÖ</div>
                        <div style="font-size: 18px; color: #2e7d32; font-weight: bold;">Voto Enviado!</div>
                        <div style="font-size: 14px; color: #666; margin-top: 10px;">
                            Aguardando outros jogadores votarem...
                        </div>
                        <div id="voteChoice"
                            style="font-size: 16px; margin-top: 10px; padding: 10px; background: #f1f8e9; border-radius: 4px;">
                        </div>
                    </div>
                </div>
                <div id="eventChoiceSection" class="event-choice-section" style="display: none;">
                    <h3>Evento Acionado!</h3>
                    <p id="eventDescription"></p>
                    <div id="eventChoices" class="event-choices"></div>
                </div>

                <div class="other-players">
                    <h4>Outros Jogadores</h4>
                    <div id="gameOtherPlayersList" class="players-list"></div>
                </div>
            </div>

            <!-- An√∫ncio do Vencedor -->
            <div id="winnerAnnouncement" class="winner-announcement" style="display: none;">
                <h2>üèÜ Jogo Conclu√≠do!</h2>
                <p id="winnerText"></p>

                <div class="reflection-prompt">
                    <h4>Hora da Reflex√£o</h4>
                    <p>Discuta com seu professor e colegas sobre as diferentes posi√ß√µes dos pe√µes e o que isso
                        revela sobre as desigualdades sociais em nossa sociedade.</p>
                </div>

                <button class="button" onclick="location.reload()">Jogar Novamente</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>